---
typora-copy-images-to: paper_figure
---
# Opening the Chrysalis: On the Real Reapir Performance of MSR Codes
@FAST'16 @MSR Code
[TOC]

## Summary
***Motivation of this paper***: The implementation of RGCs in production systems requires dealing with complex and bug-prone algorithms. In this paper, it focuses on managing the drawbacks of RGC-MSR codes.

***Butterfly Codes***: 
**Encode**: The key point in Butterfly Codes is its **recursive** construction approach, which can have a simplified design that results in a simpler implementation, and allow for a better reuse of precomputed values, leading to better cache locality.
![1534324237488](paper_figure/1534324237488.png)
Because of the double vertical flip in equations above, the recursion can be simplified
![1534322692743](paper_figure/1534322692743.png)

**Decode**: In the case of one failure, the lost column can be regenerated by communicating an amount of data equal to 1/2 of the remaining data.
> If the lost column is not the butterfly parity, the amount of communicated data is exactly equal to the amount read from suriving disk. (**optimal I/O access**)

***Implementation and Evaluation***: 
**Ceph**: RADOS uses an erasure code plug-in infrastructure that allows dynamical use of external erasure code libraries. Third-party developers can provide independent erasure code implementation.Efficient integration of Butterfly code with Ceph requires **re-defining** the plug-in interface. It also implements a **proxy plug-in** that dynamically links with existing plug-ins.

**Evaluation**: In HDFS and Ceph
>1. Repair Throughput:  
>2. CPU Utilization
>3. Network Traffic
>4. Storage Traffic

## Strength (Contributions of the paper)

1. design a recursive Butterfly code construction (two parity MSR code) and implement it in two real-world distributed storage systems (HDFS and Ceph). 
2. compare two major approaches when using erasure codes in distributed storage systems (**online** and **batch-based** encoding) and point the major tradeoffs between the two approaches.
3. examine the performance of Butterfly code and draw a comparison between the theoretical results of MSR codes and the performance achievable in real systems.

## Weakness (Limitations of the paper)
1. Butterfly Code is not very general, it can just tolerate that any two of the codeword columns are missing

## Future Work
1. How to make Butterfly codes more general is another issue that can be extended in the future.

  
